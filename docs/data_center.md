# Data Center 2.0 èªªæ˜æ–‡ä»¶

---

## ğŸ¯ ç³»çµ±ç›®æ¨™

æœ¬è³‡æ–™ä¸­å¿ƒï¼ˆData Center 2.0ï¼‰è² è²¬çµ±ä¸€ç®¡ç†è³½è»Šä¸‹æ³¨ç³»çµ±ä¸­çš„æ‰€æœ‰åŸºç¤è³‡æ–™ï¼Œ
åŒ…æ‹¬ï¼š

- è³½äº‹æ­·å²è³‡æ–™ (game_log.csv)
- Q-learning æ¨¡å‹æ¬Šé‡ (q_table.pkl)
- ç‰¹å¾µå·¥ç¨‹ (Feature Engineering) è™•ç†
- è³‡æ–™å¿«å–ç®¡ç†
- è³‡æ–™æ›´æ–°é€šçŸ¥ (Signal)

ä»¥æ”¯æ´ä¸‹æ³¨ç­–ç•¥æ¨¡çµ„ã€AIé æ¸¬æ¨¡çµ„èˆ‡å‰ç«¯UIäº’å‹•æ¨¡çµ„ã€‚

---

## ğŸ“‚ æ¨¡çµ„çµæ§‹

| æª”æ¡ˆ/æ¨¡çµ„ | åŠŸèƒ½èªªæ˜ |
|:---|:---|
| `data_facade.py` | è³‡æ–™è®€å–ã€ç‰¹å¾µå»ºæ§‹ã€è³‡æ–™è¿½åŠ ã€è³‡æ–™åˆ·æ–° |
| `feature_builder.py` | è² è²¬å¾ game_log å»ºæ§‹ç‰¹å¾µè³‡æ–™ï¼ˆå¦‚ diff, rolling_sum_5, wine_typeï¼‰ |
| `data_errors.py` | å®šç¾©è³‡æ–™ä¸­å¿ƒç›¸é—œçš„è‡ªå®šç¾©éŒ¯èª¤é¡åˆ¥ (DataLoadError, DataFormatError) |

---

## âš™ï¸ åŠŸèƒ½èªªæ˜

### DataFacade é¡åˆ¥

| æ–¹æ³• | èªªæ˜ |
|:---|:---|
| `reload()` | é‡æ–°è®€å– game_logã€q_table ä¸¦é‡å»ºç‰¹å¾µè³‡æ–™ï¼Œä¸¦è§¸ç™¼è³‡æ–™æ›´æ–°é€šçŸ¥ |
| `append_game_log(new_entry: dict, auto_reload=True)` | è¿½åŠ ä¸€ç­†æ–°ä¸‹æ³¨è³‡æ–™åˆ° game_log.csvï¼Œå¯é¸æ“‡æ˜¯å¦ç«‹å³åˆ·æ–°è³‡æ–™ |
| `get_game_log()` | å–å¾— game_log çš„å‰¯æœ¬ |
| `get_features()` | å–å¾—ç‰¹å¾µè³‡æ–™çš„å‰¯æœ¬ |
| `get_q_table()` | å–å¾— q_table çš„å‰¯æœ¬ï¼ˆDataFrameæˆ–dictï¼‰ |
| `register_on_data_updated(callback)` | è¨»å†Šè³‡æ–™æ›´æ–°å®Œæˆæ™‚è¦å‘¼å«çš„å¤–éƒ¨å‡½æ•¸ |
| `_notify_data_updated()` | è³‡æ–™æ›´æ–°å®Œæˆå¾Œï¼Œè§¸ç™¼æ‰€æœ‰è¨»å†Šçš„ callback |

---

## âš¡ ä¾‹å¤–éŒ¯èª¤è™•ç†ï¼ˆException Handlingï¼‰

ä½¿ç”¨è‡ªå®šç¾©éŒ¯èª¤é¡åˆ¥ï¼š

| éŒ¯èª¤é¡åˆ¥ | ä½¿ç”¨å ´æ™¯ |
|:---|:---|
| `DataCenterError` | è³‡æ–™ä¸­å¿ƒéŒ¯èª¤çš„åŸºç¤é¡åˆ¥ |
| `DataLoadError` | è®€å–è³‡æ–™ï¼ˆå¦‚ game_log, q_tableï¼‰å¤±æ•—æ™‚æ‹‹å‡º |
| `DataFormatError` | è³‡æ–™æ¬„ä½ä¸å®Œæ•´ã€æ ¼å¼éŒ¯èª¤æ™‚æ‹‹å‡º |

æ‰€æœ‰ç•°å¸¸ç‹€æ³æœƒçµ±ä¸€æ‹‹å‡ºä¸Šè¿°éŒ¯èª¤é¡å‹ï¼Œ  
æ–¹ä¾¿å¤–éƒ¨æ¨¡çµ„ï¼ˆä¾‹å¦‚ UIï¼‰æ ¹æ“šéŒ¯èª¤é¡å‹æ­£ç¢ºè™•ç†æˆ–é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ã€‚

---

## ğŸ”¥ è³‡æ–™æµæµç¨‹æ¦‚è¿°

```plaintext
1. åˆå§‹åŒ– DataFacade â†’ è®€å– game_log.csv â†’ ç‰¹å¾µå»ºæ§‹ â†’ è®€å– q_table.pkl
2. å‘¼å« get_game_log(), get_features(), get_q_table() å–å¾—è³‡æ–™å‰¯æœ¬
3. å‘¼å« append_game_log() è¿½åŠ ä¸‹æ³¨è³‡æ–™ï¼ˆå¯é¸æ˜¯å¦è‡ªå‹• reloadï¼‰
4. å‘¼å« reload() â†’ è³‡æ–™åˆ·æ–° â†’ è§¸ç™¼ on_data_updated é€šçŸ¥
5. è³‡æ–™ä¸­å¿ƒçµ±ä¸€ç®¡ç†éŒ¯èª¤ï¼Œç¢ºä¿ç³»çµ±ç©©å®š

